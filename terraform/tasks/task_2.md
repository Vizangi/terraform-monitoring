# Terraform

_Для подобного рода задач заводится таска в Jira (вкратце в описании описывается план проведения работ, выставляется время проведения работ, указывается исполнитель и ответственный), прикладывается документация в формате `.docx`, где прописано построчно, что будет происходить, и что делать в случае сбоя (откат). То есть вот вам еще одна строчка в резюме - придумайте, как её красиво расписать._

## **Task 2**

### Разворачивание глобальной инфраструктуры мониторинга на проекте
Условно у вас по рабочей задаче нужно на платформу TEST задеплоить мониторинг, протестировать инфру и внедрить на ПРОД.

- Нужно написать Terraform IaC темплейт для раворачивания x14 пустых контейнеров Docker.
  - Почему не используем Docker Compose, ведь это гораздо проще? Потому что вспоминаем, что у нас в реальности будут VM-ки от x20 до x50 или больше (для чего Terraform и предназначен - разворачивание инфраструктуры (условных виртуалок и прочих провайдеров)), которые будут изолированы друг от друга на уровне гипервизора.
- Пока что учимся разворачивать пустые контейнеры в вакууме, но в следующем репозитории Ansible мы накатим на контейнеры (VM-ки) инфру мониторинга.

### Образец будущей архитектуры:

  **Системный мониторинг и прочее:**
  
  1. **Node Exporter:** Сбор метрик ОС и железа для Linux/UNIX. Крайне важен для базового мониторинга серверов.
  2. **Blackbox Exporter:** "Черноящичный" мониторинг доступности внешних эндпоинтов (HTTP, DNS, TCP, ICMP).
  3. **JMX Exporter:** Сбор метрик с Java-приложений, использующих JMX. Очень универсален для Java-стека.
  4. **SNMP Exporter:** Позволяет собирать метрики с устройств, поддерживающих протокол SNMP. Широко используется для сетевого оборудования.
  5. **Pushgateway:** Используется в связке с экспортерами для сбора метрик с короткоживущих или периодически запускаемых задач, которые не могут быть постоянно опрашиваемы Prometheus.
  
  **Базы данных:**
  
  6.  **MySQLd Exporter:** Мониторинг серверов MySQL и MariaDB.
  7.  **Postgres Exporter:** Мониторинг баз данных PostgreSQL.
  8.  **MongoDB Exporter:** Мониторинг серверов MongoDB.
  9.  **Redis Exporter:** Мониторинг Redis key-value store.
  
  **Веб-серверы и прокси:**
  
  10. **Nginx Exporter:** Сбор метрик с веб-сервера Nginx.
  11. **Apache Exporter:** Сбор метрик с Apache HTTP Server.
  12. **HAProxy Exporter:** Мониторинг балансировщика нагрузки HAProxy.
  
  **Системы очередей сообщений:**
  
  13. **RabbitMQ Exporter:** Мониторинг RabbitMQ.
  14. **Kafka Exporter:** Мониторинг брокеров Kafka и потребительских групп.

Этот список охватывает основные категории систем, которые часто требуют мониторинга.

- После успешного запуска контейнеров сохраните изменения в GitHub репозиторий. 
